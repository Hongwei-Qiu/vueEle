webpackJsonp([29],{ZLvB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("商家管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("新增商家申请列表")])],1)],1),e._v(" "),a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"商家名称"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.full_name,callback:function(t){e.$set(e.form,"full_name",t)},expression:"form.full_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片验证码"}},[a("br"),e._v(" "),a("el-input",{staticClass:"code picture",attrs:{placeholder:"点击图片更换图片验证码"},model:{value:e.form.imgCode,callback:function(t){e.$set(e.form,"imgCode",t)},expression:"form.imgCode"}}),e._v(" "),a("img",{attrs:{src:e.picturecode},on:{click:e.changPicture}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短信验证码"}},[a("el-input",{staticClass:"code",model:{value:e.form.messageCode,callback:function(t){e.$set(e.form,"messageCode",t)},expression:"form.messageCode"}}),e._v(" "),a("m-button",{attrs:{type:"primary"},on:{click:e.messagecode}},[e._v("获取")])],1),e._v(" "),a("el-form-item",{staticClass:"area",attrs:{label:"区域"}},[a("br"),e._v(" "),a("el-select",{attrs:{placeholder:"请选择省"},nativeOn:{click:function(t){e.Province(e.form.c_province)}},model:{value:e.form.c_province,callback:function(t){e.$set(e.form,"c_province",t)},expression:"form.c_province"}},e._l(e.province,function(e,t){return a("el-option",{key:t,attrs:{label:e.area_name,value:e.area_code}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择市"},nativeOn:{click:function(t){e.City(e.form.c_province)}},model:{value:e.form.c_city,callback:function(t){e.$set(e.form,"c_city",t)},expression:"form.c_city"}},e._l(e.city,function(e){return a("el-option",{key:e.area_code,attrs:{label:e.area_name,value:e.area_code}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择区域"},nativeOn:{click:function(t){e.Area(e.form.c_city)}},model:{value:e.form.c_area,callback:function(t){e.$set(e.form,"c_area",t)},expression:"form.c_area"}},e._l(e.area,function(e){return a("el-option",{key:e.area_name,attrs:{label:e.area_name,value:e.area_code}})}))],1),e._v(" "),a("div",{staticClass:"clear"}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]};var o=a("VU/8")({data:function(){return{picturecode:"",province:[],city:[],area:[],form:{title:"",full_name:"",mobile:"",imgCode:"",messageCode:"",c_province:"",c_city:"",c_area:""}}},created:function(){this.picture()},methods:{picture:function(){var e=this;this.$axios.get(this.http.web+"picture").then(function(t){var a=t.data.data;e.picturecode=a.img})},messagecode:function(){var e=this,t={mobile:this.form.mobile,pictureCode:this.form.imgCode};this.$axios.post(this.http.web+"sendCode",t).then(function(t){var a=t.data;0!=a.errCode&&e.$message.warning(a.message)})},changPicture:function(){this.picture()},selectArea:function(e,t,a){var r=this,o=this.http.url+"getArea",i=e?o+"?level="+e+"&&area_code="+t:o;this.$axios.get(i).then(function(e){r[a]=e.data.data})},Province:function(e){this.selectArea(0,0,"province")},City:function(e){this.selectArea(1,e,"city")},Area:function(e){this.selectArea(2,e,"area")},onSubmit:function(){var e=this,t=[this.form.c_province,this.form.c_city,this.form.c_area],a=t[0],r=t[1],o=t[2],i={name:this.form.title,full_name:this.form.full_name,mobile:this.form.mobile,verifyCode:this.form.messageCode,area_index:a+","+r+","+o};this.$axios.post(this.http.web+"application/create",i).then(function(t){var a=t.data;0!==a.errCode?e.$message.warning(a.message):(e.$message.success("添加成功"),e.$router.push({name:"w-list"}))}).catch(function(t){var a=t.response.data;e.$message.info(a.message)})},reset:function(){for(var e in this.form)this.form[e]=""}}},r,!1,function(e){a("gqaP")},"data-v-0fa775b2",null);t.default=o.exports},gqaP:function(e,t){}});
//# sourceMappingURL=29.d5adac766fe204b85d0d.js.map
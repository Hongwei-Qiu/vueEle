webpackJsonp([26],{"0Hub":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),o=a.n(r),i={data:function(){return{states:[{label:"名称"}],show:!0,province:[],city:[],area:[],form:{title:"",name:"",phone:"",pwd:"",c_province:"",c_city:"",c_area:"",rate:"",maxrate:"",address:""}}},created:function(){this.Province(),this.getInfo()},methods:{isshow:function(){this.show=!1},getInfo:function(){var e=this,t={headers:{"api-token":this.$sign(),Authorization:this.http.vtoken}};this.$axios.get(this.http.url+"station/info?id="+this.$route.query.id,t).then(function(t){var a=t.data.data,r=a.area_index.split(",");e.form.c_province=r[0],e.form.c_city=r[1],e.form.c_area=r[2],e.form.title=a.name,e.form.name=a.full_name,e.form.pwd="",e.form.phone=a.mobile,e.form.rate=a.rate,e.form.maxrate=a.max_rate,e.form.address=a.address})},selectArea:function(e,t,a){var r=this,o={headers:{"api-token":this.$sign(),Authorization:this.http.vtoken}},i=e?this.http.url+"station/getArea?level="+e+"&&area_code="+t:this.http.url+"station/getArea";this.http.axios.get(i,o).then(function(e){r[a]=e.data.data})},Province:function(){this.selectArea(0,0,"province")},City:function(e){this.selectArea(1,e,"city")},Area:function(e){this.selectArea(2,e,"area")},upSubmit:function(e){var t=this,a={headers:{"api-token":this.$sign(),Authorization:this.http.vtoken}};this.http.axios.post(this.http.url+"station/update",e,a).then(function(e){t.$message.success("修改成功"),t.$router.push({name:"index"})}).catch(function(e){var a=e.response.data;t.$message.info(a.message)})},onSubmit:function(){var e=[this.form.c_province,this.form.c_city,this.form.c_area],t=e[0],a=e[1],r=e[2],i={id:this.$route.query.id,name:this.form.title,full_name:this.form.name,mobile:this.form.phone,area_index:t+","+a+","+r,rate:this.form.rate,max_rate:this.form.maxrate,address:this.form.address},n=o()({},i);n.password=this.form.pwd,""==this.form.pwd?this.upSubmit(i):this.upSubmit(n)},reset:function(){for(var e in this.form)this.form[e]=""}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("站点管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("站点修改")])],1)],1),e._v(" "),a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form}},[e._l(e.states,function(t,r){return a("el-form-item",{key:r,attrs:{label:t.label}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)}),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{placeholder:"格式为字母数字，大于6位小于20位"},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"利率"}},[a("el-input",{model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商家最大利率"}},[a("el-input",{model:{value:e.form.maxrate,callback:function(t){e.$set(e.form,"maxrate",t)},expression:"form.maxrate"}})],1),e._v(" "),a("el-form-item",{staticClass:"area",attrs:{label:"区域"}},[a("br"),e._v(" "),a("el-select",{attrs:{placeholder:"请选择省"},nativeOn:{click:function(t){e.Province(e.form.c_province)}},model:{value:e.form.c_province,callback:function(t){e.$set(e.form,"c_province",t)},expression:"form.c_province"}},e._l(e.province,function(e,t){return a("el-option",{key:t,attrs:{label:e.area_name,value:e.area_code}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择市"},nativeOn:{click:function(t){e.City(e.form.c_province)}},model:{value:e.form.c_city,callback:function(t){e.$set(e.form,"c_city",t)},expression:"form.c_city"}},e._l(e.city,function(e){return a("el-option",{key:e.area_code,attrs:{label:e.area_name,value:e.area_code}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择区域"},nativeOn:{click:function(t){e.Area(e.form.c_city)}},model:{value:e.form.c_area,callback:function(t){e.$set(e.form,"c_area",t)},expression:"form.c_area"}},e._l(e.area,function(e){return a("el-option",{key:e.area_name,attrs:{label:e.area_name,value:e.area_code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("div",{staticClass:"clear"}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)],2)],1)])},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(e){a("Vg2T")},"data-v-4037500e",null);t.default=s.exports},Vg2T:function(e,t){}});
//# sourceMappingURL=26.c0b090056a999b61801c.js.map
webpackJsonp([22],{SWvH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{province:[],city:[],area:[],form:{title:"",name:"",phone:"",pwd:"",c_province:"",c_city:"",c_area:"",rate:"",maxrate:"",address:""}}},methods:{selectArea:function(e,t,a){var r=this,o={headers:{"api-token":this.$sign(),Authorization:this.http.vtoken}},i=e?this.http.url+"station/getArea?level="+e+"&&area_code="+t:this.http.url+"station/getArea";this.http.axios.get(i,o).then(function(e){r[a]=e.data.data}),console.log(this[a])},Province:function(e){this.selectArea(0,0,"province")},City:function(e){this.selectArea(1,e,"city")},Area:function(e){this.selectArea(2,e,"area")},onSubmit:function(){var e=this,t={headers:{"api-token":this.$sign(),Authorization:this.http.vtoken}},a=[this.form.c_province,this.form.c_city,this.form.c_area],r=a[0],o=a[1],i=a[2],n={name:this.form.title,full_name:this.form.name,mobile:this.form.phone,password:this.form.pwd,rate:this.form.rate,max_rate:this.form.maxrate,address:this.form.address,area_index:r+","+o+","+i};this.http.axios.post(this.http.url+"station/create",n,t).then(function(t){var a=t.data;0!==a.errCode?e.$message.warning(a.message):(e.$message.success("添加成功"),e.$router.push({name:"index"}))}).catch(function(t){var a=t.response.data;e.$message.info(a.message)})},reset:function(){for(var e in this.form)this.form[e]=""}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("站点管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("站点创建")])],1)],1),e._v(" "),a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{placeholder:"格式为字母数字，大于6位小于20位"},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"利率"}},[a("el-input",{model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商家最大利率"}},[a("el-input",{model:{value:e.form.maxrate,callback:function(t){e.$set(e.form,"maxrate",t)},expression:"form.maxrate"}})],1),e._v(" "),a("el-form-item",{staticClass:"area",attrs:{label:"区域"}},[a("br"),e._v(" "),a("el-select",{attrs:{placeholder:"请选择省"},nativeOn:{click:function(t){e.Province(e.form.c_province)}},model:{value:e.form.c_province,callback:function(t){e.$set(e.form,"c_province",t)},expression:"form.c_province"}},e._l(e.province,function(e,t){return a("el-option",{key:t,attrs:{label:e.area_name,value:e.area_code}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择市"},nativeOn:{click:function(t){e.City(e.form.c_province)}},model:{value:e.form.c_city,callback:function(t){e.$set(e.form,"c_city",t)},expression:"form.c_city"}},e._l(e.city,function(e){return a("el-option",{key:e.area_code,attrs:{label:e.area_name,value:e.area_code}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择区域"},nativeOn:{click:function(t){e.Area(e.form.c_city)}},model:{value:e.form.c_area,callback:function(t){e.$set(e.form,"c_area",t)},expression:"form.c_area"}},e._l(e.area,function(e){return a("el-option",{key:e.area_name,attrs:{label:e.area_name,value:e.area_code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"联系地址"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSubmit()}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("div",{staticClass:"clear"}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(e){a("wiXB")},"data-v-53b5c2fe",null);t.default=i.exports},wiXB:function(e,t){}});
//# sourceMappingURL=22.464b65494a7065a927a4.js.map
webpackJsonp([34],{"1cwk":function(e,s){},SgX0:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={name:"w-login",data:function(){return{username:"",password:"",isLoging:!1}},methods:{handleLogin:function(){var e=this;if(!this.username||!this.password)return this.$message.warning("用户名和密码不能为空");if(this.password.length<6)return this.$message.warning("密码最少为6个字符");var s={username:this.username,password:this.password};this.$axios.post("http://retail.caidj.cn/website/login",s).then(function(s){var t=s.data;e.isLoging=!0,0!=t.errCode?(e.$message.warning(t.message),e.$router.push({name:"w-login"})):(e.$message.success("登录成功"),localStorage.setItem("wr_token",t.data.refresh_token),localStorage.setItem("wv_token",t.data.access_token),e.$router.push({name:"w-home"}))}).catch(function(s){var t=s.response.data;t.errCode&&e.$message.info(t.message)});var t=this;setTimeout(function(){t.isLoging=!1},1500)}}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fullscreen"},[t("div",{staticClass:"login-box"},[t("div",{staticStyle:{"text-align":"center"}}),e._v(" "),t("p",{staticClass:"text-tips"},[e._v("你好，欢迎登录站点端")]),e._v(" "),t("form",{staticClass:"login-form",attrs:{action:""}},[t("div",{staticClass:"m-list-group"},[t("div",{staticClass:"m-list-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"m-input",attrs:{type:"text",placeholder:"请输入用户名","prefix-icon":"el-icon-user"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}})]),e._v(" "),t("div",{staticClass:"m-list-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"m-input",attrs:{type:"password","prefix-icon":"el-icon-shopping-bag-2",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})])]),e._v(" "),t("button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoging,expression:"isLoging"}],staticClass:"m-btn sub select-none",on:{click:function(s){s.preventDefault(),e.handleLogin(s)}}},[e._v("登录")])]),e._v(" "),t("div",{staticStyle:{"margin-top":"50px"}})])])},staticRenderFns:[]};var i=t("VU/8")(a,n,!1,function(e){t("1cwk")},null,null);s.default=i.exports}});
//# sourceMappingURL=34.fdc2b7920506d50d3de5.js.map
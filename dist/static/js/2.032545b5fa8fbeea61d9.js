webpackJsonp([2],{An6C:function(e,s){},SgX0:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});t("NYxO");var a={name:"login",data:function(){return{username:"",password:"",isLoging:!1}},methods:{handleLogin:function(){var e=this;if(!this.username||!this.password)return this.$message.warning("用户名和密码不能为空");if(this.password.length<6)return this.$message.warning("密码最少为6个字符");var s=[t("mtWM"),{username:this.username,password:this.password},{headers:{"api-token":this.$sign()}}],a=s[1],n=s[2];s[0].post("http://retail.caidj.cn/api/login",a,n).then(function(s){var t=s.data;e.isLoging=!0,0!=t?e.$message.success("登录成功"):e.$message.warning(t.message),localStorage.setItem("刷新token",t.data.refresh_token),localStorage.setItem("访问token",t.data.access_token),e.$router.push({name:"home"})}).catch(function(s){var t=s.response.data;t.errCode&&e.$message.info(t.message)});var i=this;setTimeout(function(){i.isLoging=!1},1500)}}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fullscreen"},[t("div",{staticClass:"login-box"},[t("div",{staticStyle:{"text-align":"center"}}),e._v(" "),t("p",{staticClass:"text-tips"},[e._v("你好，欢迎登录")]),e._v(" "),t("form",{staticClass:"login-form",attrs:{action:""}},[t("div",{staticClass:"m-list-group"},[t("div",{staticClass:"m-list-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"m-input",attrs:{type:"text",placeholder:"请输入用户名","prefix-icon":"el-icon-user"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}})]),e._v(" "),t("div",{staticClass:"m-list-group-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"m-input",attrs:{type:"password","prefix-icon":"el-icon-shopping-bag-2",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})])]),e._v(" "),t("button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoging,expression:"isLoging"}],staticClass:"m-btn sub select-none",on:{click:function(s){s.preventDefault(),e.handleLogin(s)}}},[e._v("登录")])]),e._v(" "),t("div",{staticStyle:{"margin-top":"50px"}})])])},staticRenderFns:[]};var i=t("VU/8")(a,n,!1,function(e){t("An6C")},null,null);s.default=i.exports}});
//# sourceMappingURL=2.032545b5fa8fbeea61d9.js.map
{"version":3,"sources":["webpack:///src/pages/website/w-header.vue","webpack:///./src/pages/website/w-header.vue?3bc0","webpack:///./src/pages/website/w-header.vue"],"names":["w_header","themes","theme","val","_this","this","$websitesign","mini","Object","utils","website_w_header","render","_vm","_h","$createElement","_c","_self","attrs","headerTheme","staticClass","class","el-icon-more","el-icon-more-outline","on","click","handleSwitchSide","_v","to","align","padding","staticStyle","display","color","href","border-radius","vertical-align","alt","src","__webpack_require__","_s","user","username","name","quit","_e","$event","stopPropagation","preventDefault","handleSwitchScreen","isFullScreen","width","min-height","label","change","handleSwitchHideSide","model","value","callback","$$v","showAside","expression","themeType","_l","key","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/27.c220c5d1ebbc44571153.js","sourcesContent":["<template>\n  <m-navbar :theme=\"theme.theme.headerTheme\">\n    <m-navbar-brand>\n      <i :class=\"{\n        'el-icon-more': !mini,\n        'el-icon-more-outline': mini\n      }\" @click=\"handleSwitchSide\" class=\"side-switch\"></i>\n    </m-navbar-brand>\n    <m-nav>\n      <m-nav-item>\n        <router-link to='/'>首页</router-link>\n      </m-nav-item>\n    </m-nav>\n    <m-nav align=\"right\">\n      <m-nav-item padding=\"0\">\n        <m-dropdown align=\"right\" padding=\"0 10px\" v-if=\"user\">\n          <a href=\"javascript:;\" style=\"display: inline-block; padding: 0px; color: inherit\">\n            <img alt=\"\" src=\"./../../assets/user.jpg\" style=\"border-radius: 3px;vertical-align: middle;\">\n            <span>{{user.username}}</span>\n            <span class=\"caret\"></span>\n          </a>\n          <m-dropdown-panel>\n            <m-dropdown-item><span>用户信息</span></m-dropdown-item>\n            <m-dropdown-item>\n              <router-link :to=\"{name:'w-modify'}\">修改密码</router-link>\n            </m-dropdown-item>\n            <div class=\"test-line\"></div>\n            <m-dropdown-item><span @click='quit'>退出账号</span></m-dropdown-item>\n          </m-dropdown-panel>\n        </m-dropdown>\n      </m-nav-item>\n      <m-nav-item padding=\"0 5px\">\n        <a @click.stop.prevent=\"handleSwitchScreen\" href=\"#\">\n          <i :class=\"isFullScreen ? 'fa-compress' : 'fa-expand'\" class=\"fa\"></i>\n        </a>\n      </m-nav-item>\n      <m-nav-item padding=\"0\">\n        <m-dropdown align=\"right\" padding=\"0 10px\">\n          <a href=\"#\" style=\"padding:0 0px; color: inherit\">\n            <i class=\"fa fa-gears\"></i>\n          </a>\n          <m-dropdown-panel style=\"width: 200px; min-height: 100px;\">\n            <el-form>\n              <el-form-item label=\"侧边栏\">\n                <el-switch @change=\"handleSwitchHideSide\" v-model=\"showAside\"/>\n              </el-form-item>\n              <el-form-item label=\"主题\">\n                <el-select style=\"width: 100px\" v-model=\"themeType\">\n                  <el-option :key=\"theme.label\" :label=\"theme.label\" :value=\"theme.name\"\n                             v-for=\"theme in themes\"></el-option>\n                </el-select>\n              </el-form-item>\n            </el-form>\n          </m-dropdown-panel>\n        </m-dropdown>\n      </m-nav-item>\n    </m-nav>\n  </m-navbar>\n</template>\n<script type=\"text/javascript\">\n    import {mapActions, mapState} from 'vuex'\n    import {\n        requestFullScreen,\n        exitFullscreen\n    } from '@/utils'\n    import themes from './../../components/theme'\n\n    export default {\n        name: 'app-header',\n        data() {\n            return {\n                user: true,\n                mini: false,\n                isFullScreen: false,\n                themes,\n                themeType: '',\n                showAside: true,\n                theme: {theme: {headerTheme: 'info'}}\n            }\n        },\n        watch: {\n            themeType(val) {\n                this.theme = this.themes.find(e => e.name === val) || {}\n                this.$emit('set-theme', this.theme)\n                localStorage.setItem('theme', val)\n                //主题切换\n                const themeColor = localStorage.getItem('theme');\n                // console.log(themeColor=='default');\n                var style;\n                if ((themeColor == 'default') || (themeColor == 'white')) {\n\n                    style = document.getElementById('style').href = 'static/css/drak2.css';\n                } else {\n                    return document.getElementById('style').href = '../../static/css/drak.css';\n                }\n            }\n        },\n\n        methods: {\n\n            //刷新token\n            // access() {\n            //   const refresh = {\n            //     headers: { \"api-token\": this.$websitesign() }\n            //   }\n            //   const paramtoken = { refreshToken: localStorage.getItem('wr_token') }\n            //    const axios = require('axios');\n            //  axios.post('http://retail.caidj.cn/website/refresh', paramtoken, refresh).then(res => {\n            //     const token = res.data.data;\n            //     this.access = token.access_token\n            //     localStorage.setItem('刷新token', token.refresh_token);\n\n            //   }).catch(err => {\n\n\n            //   })\n\n\n            // },\n\n\n            //退出登录\n            quit() {\n\n                const requestConfig = {\n                    headers: {\n                        \"api-token\": this.$websitesign(),\n                        \"Authorization\": this.http.wv_token//this.access\n                    },\n                };\n\n\n                this.http.axios.get('http://retail.caidj.cn/website/logout', requestConfig).then(res => {\n\n                    this.$router.push({name: 'w-login'});\n                    this.$message.success('退出成功');\n                    localStorage.removeItem('wv_token')\n                }).catch(err => {\n                    this.$message.warning('退出失败');\n                })\n            },\n\n            handleSwitchSide() {\n                this.mini = !this.mini\n                this.$store.commit('IsShow')\n                this.$emit('switch', this.mini)\n            },\n            handleSwitchScreen() {\n                if (this.isFullScreen) {\n                    exitFullscreen()\n                    this.isFullScreen = false\n                } else {\n                    requestFullScreen()\n                    this.isFullScreen = true\n                }\n            },\n            handleSwitchHideSide() {\n                this.$emit('hide-side')\n            },\n        },\n\n        created() {\n            // this.access()\n\n            var theme = localStorage.getItem('theme') || 'default'\n            this.themeType = theme\n        }\n    }\n\n</script>\n<style type=\"text/css\">\n  .side-switch {\n    display: inline-block;\n    font-size: 32px;\n    cursor: pointer;\n    color: inherit;\n    margin-top: 10px;\n  }\n\n  .side-switch:hover {\n    color: #fff;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/website/w-header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('m-navbar',{attrs:{\"theme\":_vm.theme.theme.headerTheme}},[_c('m-navbar-brand',[_c('i',{staticClass:\"side-switch\",class:{\n      'el-icon-more': !_vm.mini,\n      'el-icon-more-outline': _vm.mini\n    },on:{\"click\":_vm.handleSwitchSide}})]),_vm._v(\" \"),_c('m-nav',[_c('m-nav-item',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首页\")])],1)],1),_vm._v(\" \"),_c('m-nav',{attrs:{\"align\":\"right\"}},[_c('m-nav-item',{attrs:{\"padding\":\"0\"}},[(_vm.user)?_c('m-dropdown',{attrs:{\"align\":\"right\",\"padding\":\"0 10px\"}},[_c('a',{staticStyle:{\"display\":\"inline-block\",\"padding\":\"0px\",\"color\":\"inherit\"},attrs:{\"href\":\"javascript:;\"}},[_c('img',{staticStyle:{\"border-radius\":\"3px\",\"vertical-align\":\"middle\"},attrs:{\"alt\":\"\",\"src\":require(\"./../../assets/user.jpg\")}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.user.username))]),_vm._v(\" \"),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('m-dropdown-panel',[_c('m-dropdown-item',[_c('span',[_vm._v(\"用户信息\")])]),_vm._v(\" \"),_c('m-dropdown-item',[_c('router-link',{attrs:{\"to\":{name:'w-modify'}}},[_vm._v(\"修改密码\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"test-line\"}),_vm._v(\" \"),_c('m-dropdown-item',[_c('span',{on:{\"click\":_vm.quit}},[_vm._v(\"退出账号\")])])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('m-nav-item',{attrs:{\"padding\":\"0 5px\"}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.handleSwitchScreen($event)}}},[_c('i',{staticClass:\"fa\",class:_vm.isFullScreen ? 'fa-compress' : 'fa-expand'})])]),_vm._v(\" \"),_c('m-nav-item',{attrs:{\"padding\":\"0\"}},[_c('m-dropdown',{attrs:{\"align\":\"right\",\"padding\":\"0 10px\"}},[_c('a',{staticStyle:{\"padding\":\"0 0px\",\"color\":\"inherit\"},attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-gears\"})]),_vm._v(\" \"),_c('m-dropdown-panel',{staticStyle:{\"width\":\"200px\",\"min-height\":\"100px\"}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"侧边栏\"}},[_c('el-switch',{on:{\"change\":_vm.handleSwitchHideSide},model:{value:(_vm.showAside),callback:function ($$v) {_vm.showAside=$$v},expression:\"showAside\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"主题\"}},[_c('el-select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.themeType),callback:function ($$v) {_vm.themeType=$$v},expression:\"themeType\"}},_vm._l((_vm.themes),function(theme){return _c('el-option',{key:theme.label,attrs:{\"label\":theme.label,\"value\":theme.name}})}))],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34ff5e70\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/website/w-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34ff5e70\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./w-header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./w-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./w-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34ff5e70\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./w-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/website/w-header.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}